# 基于深度学习的儿童 RMPP 糖皮质激素治疗剂量优化系统

## 项目概述

本项目是一个基于深度学习的医学影像分析系统，专门用于优化儿童难治性支原体肺炎（RMPP）的糖皮质激素治疗剂量。通过分析 DICOM 格式的胸部 X 光片，系统能够自动评估肺炎严重程度，为临床医生提供治疗剂量建议。

## 主要功能

- **医学影像预处理**：DICOM 格式影像的切片划分、标签标注
- **多模型深度学习**：集成 MobileNetV2、CNN、ResNet 等多种深度学习模型
- **肺炎严重程度评估**：基于影像特征自动诊断肺炎严重程度
- **治疗剂量建议**：根据严重程度为糖皮质激素治疗提供剂量参考

## 技术架构

### 深度学习模型
- **MobileNetV2**：轻量级网络，适合移动端部署
- **CNN**：传统卷积神经网络
- **ResNet**：残差网络，提高深层网络训练效果

### 数据处理流程
1. DICOM 影像读取与预处理
2. 影像切片划分与标准化
3. 数据增强与标签处理
4. 模型训练与验证
5. 预测结果输出

## 项目结构

```
Classifier_JPG/
├── saved_models/          # 训练好的模型文件
├── data/                  # 数据文件夹（已忽略）
├── dataset/               # 数据集文件夹（已忽略）
├── config.py             # 配置文件
├── predictors.py         # 预测器模块
├── 多模态 Nrrd 预测.py    # 多模态预测脚本
└── README.md             # 项目说明文档
```

## 安装与使用

### 环境要求
- Python 3.7+
- PyTorch
- NumPy
- PIL (Pillow)
- 其他依赖包（详见 requirements.txt）

### 快速开始

1. **克隆项目**
```bash
git clone https://github.com/GGyongfeng/CLASSIFIER_NRRD.git
cd CLASSIFIER_NRRD
```

2. **安装依赖**
```bash
pip install -r requirements.txt
```

3. **运行预测**
```python
python 多模态 Nrrd 预测.py
```

查看损失：

- 使用记事本打开文件`visual_loss.bat`，将 `tensorboard --logdir logs` 中的logs修改为需要查看的目录，并保存。

  例如：`tensorboard --logdir logs-2021-07-22-10-19-56`

- 双击运行`visual_loss.bat`

- 运行后，在浏览器中输入网址  http://localhost:6006/ 可实时查看损失曲线和准确率变化曲线

## 模型配置

项目支持多种模型配置，包括：

- **ResNet18**：适用于不同标签组合的模型
- **多模态预测**：集成多个模型的预测结果
- **自定义配置**：支持自定义标签字典和输入尺寸

## 临床应用

### 适用场景
- 儿童 RMPP 的早期诊断
- 肺炎严重程度评估
- 糖皮质激素治疗剂量优化
- 临床决策支持

### 优势特点
- **自动化**：减少人工评估时间
- **标准化**：提供一致的评估标准
- **可解释性**：支持预测结果的可视化展示
- **可扩展性**：支持新模型和数据的集成

## 数据隐私

- 所有医学影像数据均经过脱敏处理
- 严格遵守医疗数据保护法规
- 支持本地化部署，保护患者隐私

## 贡献指南

欢迎提交 Issue 和 Pull Request 来改进项目。

## 许可证

本项目采用 MIT 许可证。

## 联系方式

如有问题或建议，请通过以下方式联系：
- GitHub Issues：[项目 Issues 页面](https://github.com/GGyongfeng/CLASSIFIER_NRRD/issues)

## 致谢

感谢所有为医学影像分析领域做出贡献的研究者和开发者。

---

**免责声明**：本系统仅作为临床决策的辅助工具，最终治疗决策应由专业医生根据患者具体情况做出。


